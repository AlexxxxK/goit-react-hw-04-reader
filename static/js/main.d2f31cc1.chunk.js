(this["webpackJsonppublications-reader"]=this["webpackJsonppublications-reader"]||[]).push([[0],{13:function(e,t,n){e.exports={publication:"Publication_publication__19_YF",title:"Publication_title__69rsg",text:"Publication_text__uxPTc"}},14:function(e,t,n){e.exports={controls:"Controls_controls__2w2FT",button:"Controls_button__ykUlP"}},35:function(e,t,n){e.exports={counter:"Counter_counter__2zk2P"}},37:function(e,t,n){e.exports={reader:"Reader_reader__DNSRf"}},45:function(e,t,n){e.exports=n(88)},84:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(10),o=n.n(c),i=n(16),l=n(8),s=n(9),u=n.n(s),p=n(31),b=n(12),h=n(32),m=n(33),f=n(43),g=n(34),d=n(44),v=n(38),y=n(13),O=n.n(y),P=function(e){var t=e.article,n=t.title,r=t.text;return a.a.createElement("article",{className:O.a.publication},a.a.createElement("h2",{className:O.a.title},n),a.a.createElement("p",{className:O.a.text},r))},_=n(35),E=n.n(_),j=function(e){var t=e.currentPage,n=e.length;return a.a.createElement("p",{className:E.a.counter},t+1,"/",n)},x=n(14),w=n.n(x),k=function(e){var t=e.currentPage,n=e.length,r=e.handlePublicationChange;return a.a.createElement("section",{className:w.a.controls},a.a.createElement("button",{type:"button",name:"prev",className:w.a.button,onClick:r,disabled:0===t},"\u041d\u0430\u0437\u0430\u0434"),a.a.createElement("button",{type:"button",name:"next",className:w.a.button,onClick:r,disabled:t===n-1},"\u0412\u043f\u0435\u0440\u0435\u0434"))},N=n(17),C=n.n(N);C.a.defaults.baseURL="https://newsapi.org/v2/top-headlines?country=us&apiKey=d0d9269bb64f4997a9e2dac53fe31b15";var D=function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.get();case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=n(36),S=n.n(F),R=function(e){return Number(S.a.parse(e.search).item)},I=function(e){return e.map((function(e){return{id:e.url,text:e.content,title:e.title}}))},J=(n(79),n(37)),T=n.n(J);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(n,!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){function t(){var e,n;Object(h.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(f.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(a)))).state={articles:[]},n.handlePublicationChange=function(e){var t=e.target.name,r=n.props,a=r.location,c=r.history,o=R(a);o="prev"===t?o-=1:o+=1,c.push({search:"item=".concat(o)})},n}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(u.a.mark((function e(){var t,n,r,a,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.location,r=t.history,a=R(n),e.prev=2,e.next=5,D();case 5:c=e.sent,console.log(c.articles),this.setState({articles:I(c.articles)}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),v.a.error("Error while fetching: ".concat(e.t0));case 13:o=this.state.articles,!a||!Number.isInteger(a)||a>o.length?(a=1,r.replace(z({},n,{search:"item=1"}))):r.replace(z({},n,{search:"item=".concat(a)}));case 15:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.articles,t=this.props.location,n=R(t)-1||0;return a.a.createElement(a.a.Fragment,null,e.length>0&&a.a.createElement("div",{className:T.a.reader},a.a.createElement(P,{article:e[n]}),a.a.createElement(j,{currentPage:n,length:e.length}),a.a.createElement(k,{currentPage:n,length:e.length,handlePublicationChange:this.handlePublicationChange})))}}]),t}(r.Component),B=(n(84),function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(l.b,{path:"/reader",component:A}),a.a.createElement(l.a,{to:"/reader"}))});o.a.render(a.a.createElement(i.a,null,a.a.createElement(B,null)),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.d2f31cc1.chunk.js.map