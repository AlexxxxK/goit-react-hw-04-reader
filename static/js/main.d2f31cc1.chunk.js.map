{"version":3,"sources":["components/Publication/Publication.module.css","components/Controls/Controls.module.css","components/Counter/Counter.module.css","components/Reader/Reader.module.css","components/Publication/Publication.jsx","components/Counter/Counter.jsx","components/Controls/Controls.jsx","services/articles-API.js","helpers/getItemFromLocation.js","helpers/articlesMapper.js","components/Reader/Reader.jsx","containers/App/App.jsx","index.js"],"names":["module","exports","Publication","article","title","text","className","styles","publication","Counter","currentPage","length","counter","Controls","handlePublicationChange","controls","type","name","button","onClick","disabled","axios","defaults","baseURL","fetchArticles","a","get","response","data","getItemFromLocation","location","Number","queryString","parse","search","item","mapper","arrayToMap","map","id","url","content","Reader","state","articles","target","props","history","push","this","fetchedArticles","console","log","setState","articlesMapper","toast","error","isInteger","replace","reader","Component","App","path","component","to","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d2f31cc1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"publication\":\"Publication_publication__19_YF\",\"title\":\"Publication_title__69rsg\",\"text\":\"Publication_text__uxPTc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__2w2FT\",\"button\":\"Controls_button__ykUlP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"counter\":\"Counter_counter__2zk2P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"reader\":\"Reader_reader__DNSRf\"};","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./Publication.module.css\";\n\nconst Publication = ({ article: { title, text } }) => (\n  <article className={styles.publication}>\n    <h2 className={styles.title}>{title}</h2>\n    <p className={styles.text}>{text}</p>\n  </article>\n);\n\nPublication.propTypes = {\n  article: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    text: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default Publication;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./Counter.module.css\";\n\nconst Counter = ({ currentPage, length }) => (\n  <p className={styles.counter}>\n    {currentPage + 1}/{length}\n  </p>\n);\n\nCounter.propTypes = {\n  currentPage: PropTypes.number.isRequired,\n  length: PropTypes.number.isRequired,\n};\n\nexport default Counter;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./Controls.module.css\";\n\nconst Controls = ({ currentPage, length, handlePublicationChange }) => (\n  <section className={styles.controls}>\n    <button\n      type=\"button\"\n      name=\"prev\"\n      className={styles.button}\n      onClick={handlePublicationChange}\n      disabled={currentPage === 0}\n    >\n      Назад\n    </button>\n    <button\n      type=\"button\"\n      name=\"next\"\n      className={styles.button}\n      onClick={handlePublicationChange}\n      disabled={currentPage === length - 1}\n    >\n      Вперед\n    </button>\n  </section>\n);\n\nControls.propTypes = {\n  currentPage: PropTypes.number.isRequired,\n  length: PropTypes.number.isRequired,\n  handlePublicationChange: PropTypes.func.isRequired,\n};\n\nexport default Controls;\n","import axios from \"axios\";\n\naxios.defaults.baseURL =\n  \"https://newsapi.org/v2/top-headlines?country=us&apiKey=d0d9269bb64f4997a9e2dac53fe31b15\";\n\nconst fetchArticles = async () => {\n  const response = await axios.get();\n\n  return response.data;\n};\n\nexport default fetchArticles;\n","import queryString from \"query-string\";\n\nconst getItemFromLocation = location =>\n  Number(queryString.parse(location.search).item);\n\nexport default getItemFromLocation;\n","const mapper = arrayToMap =>\n  arrayToMap.map(({ url: id, content: text, title }) => ({\n    id,\n    text,\n    title,\n  }));\n\nexport default mapper;\n","import React, { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport PropTypes from \"prop-types\";\nimport Publication from \"../Publication/Publication\";\nimport Counter from \"../Counter/Counter\";\nimport Controls from \"../Controls/Controls\";\nimport fetchArticles from \"../../services/articles-API\";\nimport getItemFromLocation from \"../../helpers/getItemFromLocation\";\nimport articlesMapper from \"../../helpers/articlesMapper\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport styles from \"./Reader.module.css\";\n\nexport default class Reader extends Component {\n  static propTypes = {\n    location: PropTypes.shape({\n      search: PropTypes.string.isRequired,\n    }).isRequired,\n    history: PropTypes.shape({\n      replace: PropTypes.func.isRequired,\n      push: PropTypes.func.isRequired,\n    }).isRequired,\n  };\n\n  state = { articles: [] };\n\n  async componentDidMount() {\n    const { location, history } = this.props;\n    let item = getItemFromLocation(location);\n\n    try {\n      const fetchedArticles = await fetchArticles();\n      console.log(fetchedArticles.articles);\n      this.setState({ articles: articlesMapper(fetchedArticles.articles) });\n    } catch (error) {\n      toast.error(`Error while fetching: ${error}`);\n    }\n\n    const { articles } = this.state;\n    if (!item || !Number.isInteger(item) || item > articles.length) {\n      item = 1;\n      history.replace({\n        ...location,\n        search: `item=1`,\n      });\n    } else {\n      history.replace({\n        ...location,\n        search: `item=${item}`,\n      });\n    }\n  }\n\n  handlePublicationChange = ({ target }) => {\n    const { name } = target;\n    const { location, history } = this.props;\n    let item = getItemFromLocation(location);\n\n    item = name === \"prev\" ? (item -= 1) : (item += 1);\n    history.push({\n      search: `item=${item}`,\n    });\n  };\n\n  render() {\n    const { articles } = this.state;\n    const { location } = this.props;\n    const currentPage = getItemFromLocation(location) - 1 || 0;\n    // const currentPage = item || 0;\n    return (\n      <>\n        {articles.length > 0 && (\n          <div className={styles.reader}>\n            <Publication article={articles[currentPage]} />\n            <Counter currentPage={currentPage} length={articles.length} />\n            <Controls\n              currentPage={currentPage}\n              length={articles.length}\n              handlePublicationChange={this.handlePublicationChange}\n            />\n          </div>\n        )}\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport Reader from \"../../components/Reader/Reader\";\nimport \"./App.module.css\";\n\nconst App = () => (\n  <>\n    <Route path=\"/reader\" component={Reader} />\n    <Redirect to=\"/reader\" />\n  </>\n);\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport App from \"./containers/App/App\";\n\nReactDOM.render(\n  <HashRouter>\n    <App />\n  </HashRouter>,\n  document.getElementById(\"root\"),\n);\n"],"sourceRoot":""}